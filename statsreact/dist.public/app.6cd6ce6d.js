webpackJsonp([1],{0:function(e,t,n){n("UO73"),e.exports=n("lVK7")},ROAq:function(e,t){},"Ue/Q":function(e,t){},lVK7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("ROAq"),r=(n.n(s),n("U7vG")),i=n.n(r),a=n("O27J"),o=(n.n(a),n("pnOm"));n.i(a.render)(i.a.createElement(o.a,null),document.querySelector("#app"))},pnOm:function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("Ue/Q"),o=(n.n(a),n("U7vG")),l=n.n(o),p=n("O27J"),u=n.n(p),c=n("RIGI"),h=n.n(c),m=n("UVf0"),d=(n.n(m),n("7t+N")),f=n.n(d),y=n("uwn7"),g=(n.n(y),n("KRlh")),E=(n.n(g),n("dvSY")),v=(n.n(E),n("BV1C")),C=(n.n(v),n("LVGx")),b=(n.n(C),n("WYLF")),I=(n.n(b),function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){return l.a.createElement("th",null,this.props.inningNum)},t}(o.Component)),O=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.handleClick=function(e){this.props.setInning(this.props.inning)},t.prototype.render=function(){return l.a.createElement("td",null,l.a.createElement("input",{type:"radio",name:"inningRadio",value:"{this.props.inning.homeOrVisitor + this.props.inning.num}",defaultChecked:this.props.inning.homeOrVisitor==this.props.chosenInning.homeOrVisitor&&this.props.inning.num==this.props.chosenInning.num,onClick:this.handleClick.bind(this)}))},t}(o.Component),x=l.a.createElement("th",null),k=l.a.createElement("th",{className:"sideHeader"},"V"),N=l.a.createElement("th",{className:"sideHeader"},"H"),Y=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.setInning=function(e){this.props.setInning(e)},t.prototype.render=function(){var e,t=[];for(e=1;e<=this.props.numInnings;++e)t.push(l.a.createElement(I,{key:e,inningNum:e}));var n=[];for(e=1;e<=this.props.numInnings;++e){var s={homeOrVisitor:"V",num:e};n.push(l.a.createElement(O,{key:s.homeOrVisitor+s.num,inning:s,chosenInning:this.props.inning,setInning:this.setInning.bind(this)}))}var r=[];for(e=1;e<=this.props.numInnings;++e){var s={homeOrVisitor:"H",num:e};r.push(l.a.createElement(O,{key:s.homeOrVisitor+s.num,inning:s,chosenInning:this.props.inning,setInning:this.setInning.bind(this)}))}return l.a.createElement("table",{className:"innings"},l.a.createElement("thead",null,l.a.createElement("tr",null,x,t)),l.a.createElement("tbody",null,l.a.createElement("tr",null,k,n),l.a.createElement("tr",null,N,r)))},t}(o.Component),S=l.a.createElement("span",null,"Outs:"),w=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.handleClick=function(e){this.props.setOuts(2==this.props.outs?0:this.props.outs+1)},t.prototype.getOutsColor=function(e){return e?"#ff0000":"#ffffff"},t.prototype.render=function(){var e=Math.min(60,30)/2;return l.a.createElement("p",{className:"littlespace",style:{display:"flex",alignItems:"center"}},S,l.a.createElement("svg",{width:75,height:40,onClick:this.handleClick.bind(this)},l.a.createElement("circle",{cx:75/4,cy:20,r:e,stroke:"#a0522d",fill:this.getOutsColor(this.props.outs>=1)}),l.a.createElement("circle",{cx:56.25,cy:20,r:e,stroke:"#a0522d",fill:this.getOutsColor(this.props.outs>=2)})))},t}(o.Component),R=l.a.createElement("option",{value:"1"},"none"),V=l.a.createElement("option",{value:"2"},"1st"),M=l.a.createElement("option",{value:"3"},"2nd"),T=l.a.createElement("option",{value:"4"},"1st & 2nd"),A=l.a.createElement("option",{value:"5"},"3rd"),H=l.a.createElement("option",{value:"6"},"1st & 3rd"),_=l.a.createElement("option",{value:"7"},"2nd & 3rd"),W=l.a.createElement("option",{value:"8"},"loaded"),U=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.handleChange=function(e){this.props.setRunners(e.target.value)},t.prototype.render=function(){return l.a.createElement("p",{className:"littlespace"},"Runners on base:Â ",l.a.createElement("select",{onChange:this.handleChange.bind(this),value:this.props.runners},R,V,M,T,A,H,_,W))},t}(o.Component),j=l.a.createElement("th",null,"Visitor"),F=l.a.createElement("th",null,"Home"),L=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.handleVisitorClick=function(){this.props.setScore(this.props.score-1)},t.prototype.handleHomeClick=function(){this.props.setScore(this.props.score+1)},t.prototype.render=function(){var e="",t="";return this.props.score<0?e="+"+-1*this.props.score:this.props.score>0?t="+"+this.props.score:(e="Tie",t="Tie"),l.a.createElement("table",{className:"scoreTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,j,l.a.createElement("td",null,e),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.handleVisitorClick.bind(this)},"+"))),l.a.createElement("tr",null,F,l.a.createElement("td",null,t),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.handleHomeClick.bind(this)},"+")))))},t}(o.Component),B=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.getBaseColor=function(e){return e?"#ff0000":"#eeeeee"},t.prototype.pointsFromCenter=function(e,t){return[[e[0],e[1]+t],[e[0]+t,e[1]],[e[0],e[1]-t],[e[0]-t,e[1]]]},t.prototype.toggleFirst=function(e){this.props.setRunners(1+(this.props.runners-1^1))},t.prototype.toggleSecond=function(e){this.props.setRunners(1+(this.props.runners-1^2))},t.prototype.toggleThird=function(e){this.props.setRunners(1+(this.props.runners-1^4))},t.prototype.render=function(){var e=this.props.runners-1&1,t=this.props.runners-1&2,n=this.props.runners-1&4,s=Math.max(20,10),r=[100,170],i=[[r[0],r[1]+s],[r[0]+s,r[1]],[r[0]+s],[r[1]-s],[r[0]-s,r[1]-s],[r[0]-s,r[1]]],a=[170,100],o=this.pointsFromCenter(a,s),p=[100,30],u=this.pointsFromCenter(p,s),c=[30,100],h=this.pointsFromCenter(c,s);return l.a.createElement("div",null,l.a.createElement("svg",{width:200,height:200},l.a.createElement("rect",{x:"0",y:"0",width:200,height:200,fill:"#006400"}),l.a.createElement("line",{x1:100,y1:170,x2:170,y2:100,strokeWidth:"5",stroke:"#a0522d"}),l.a.createElement("line",{x1:170,y1:100,x2:100,y2:30,strokeWidth:"5",stroke:"#a0522d"}),l.a.createElement("line",{x1:100,y1:30,x2:30,y2:100,strokeWidth:"5",stroke:"#a0522d"}),l.a.createElement("line",{x1:30,y1:100,x2:100,y2:170,strokeWidth:"5",stroke:"#a0522d"}),l.a.createElement("polygon",{points:i,strokeWidth:"0",fill:this.getBaseColor(!1)}),l.a.createElement("polygon",{points:o,strokeWidth:"0",fill:this.getBaseColor(e),onClick:this.toggleFirst.bind(this)}),l.a.createElement("polygon",{points:u,strokeWidth:"0",fill:this.getBaseColor(t),onClick:this.toggleSecond.bind(this)}),l.a.createElement("polygon",{points:h,strokeWidth:"0",fill:this.getBaseColor(n),onClick:this.toggleThird.bind(this)})))},t}(o.Component),P=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.onChange=function(e){void 0!=this.setYearsEvent&&window.clearTimeout(this.setYearsEvent),this.setState({years:[e[0],e[1]]}),this.setYearsEvent=window.setTimeout(function(){this.doActualChange(e)}.bind(this),this.TIMEOUT)},t.prototype.doActualChange=function(e){this.setYearsEvent=void 0,this.props.setYears([e[0],e[1]])},t.prototype.componentDidMount=function(){this.TIMEOUT=500,this.setYearsEvent=void 0},t.prototype.componentWillMount=function(){this.setState({years:this.props.years})},t.prototype.componentWillReceiveProps=function(e){this.setState({years:e.years})},t.prototype.render=function(){return l.a.createElement("div",null,l.a.createElement("p",{className:"littlespace"},"Years to include: ",this.state.years[0]," - ",this.state.years[1]),l.a.createElement(h.a,{className:"horizontal-slider",orientation:"horizontal",withBars:!0,defaultValue:[this.state.years[0],this.state.years[1]],min:MIN_YEAR,max:MAX_YEAR,onChange:this.onChange.bind(this)}))},t}(o.Component),D=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidMount=function(){var e=u.a.findDOMNode(this);f()(".realOutput",e).effect("highlight")},t.prototype.componentDidUpdate=function(e,t){var n=!1,s=Object.keys(this.props);for(var r in s)if("years"!=s[r]&&this.props[s[r]]!=e[s[r]]){n=!0;break}if(n){var i=u.a.findDOMNode(this);f()(".realOutput",i).effect("highlight")}},t.prototype.render=function(){var e={width:"300px",float:"left"};if(this.props.isPrimary||(e.marginTop="20px"),this.props.isInitial)return l.a.createElement("div",{style:e});var t=this.props.name;if(0===this.props.total)return t+="none",l.a.createElement("div",{style:e},l.a.createElement(m.CSSTransitionGroup,{transitionName:"outputTransition",transitionAppear:!1,transitionLeave:!1},l.a.createElement("div",{className:"realOutput",key:t},"No data found!")));var n=this.props,s=n.wins,r=100*s/n.total,i=Math.round(100*r)/100,a=n.isHome,o="",p="";i<50&&(i=Math.round(100*(100-i))/100,s=n.total-s,a=!a);var u=Math.round(i/(100-i)*-100),c="+"+-1*u;a?(o=u,p=c):(o=c,p=u);var h="Low",d="leverageLow";n.leverageIndex>=3?(h="Very High",d="leverageVeryHigh"):n.leverageIndex>=1.6?(h="High",d="leverageHigh"):n.leverageIndex>=.8&&(h="Medium",d="leverageMedium"),d="leverageIndex "+d;var f=a?"Home":"Visitor",y=n.isPrimary?{display:"none"}:{};return l.a.createElement("div",{style:e},l.a.createElement(m.CSSTransitionGroup,{transitionName:"outputTransition",transitionAppear:!1,transitionEnterTimeout:0,transitionLeaveTimeout:0},l.a.createElement("div",{className:"realOutput",key:t},l.a.createElement("p",{className:"littlespace",style:y},"Years: ",n.years[0]," - ",n.years[1]),l.a.createElement("p",{className:"littlespace"},"Total games: ",n.total),l.a.createElement("p",{className:"littlespace"},"Wins for ",f,": ",s),l.a.createElement("p",{className:"littlespace"},"Win percentage: ",l.a.createElement("b",null,f," ",i,"%")),l.a.createElement("p",{className:"littlespace"},"Leverage index: ",l.a.createElement("b",{className:d},n.leverageIndex," (",h,")")),l.a.createElement("p",{className:"littlespace"},"Home money line: ",l.a.createElement("b",null,o)),l.a.createElement("p",{className:"littlespace"},"Visitor money line: ",l.a.createElement("b",null,p)))))},t}(o.Component),G=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){return l.a.createElement("progress",{style:{display:this.props.active?"":"none"}})},t}(o.Component),J=function(e){function t(n){s(this,t);var i=r(this,e.call(this,n)),a={inning:{homeOrVisitor:"V",num:1},outs:0,runners:1,score:0,years:[MIN_YEAR,MAX_YEAR],pendingRequests:!1};i.addInitialState(a,"output",[]);var o;for(o=0;o<extraYears.length;++o){var l=extraYears[o][0],p=extraYears[o][1],u=transformYears(l,p);i.addInitialState(a,"output"+o,u)}if(window.location.hash){var c=window.location.hash.substring(1),h=c.split(".");if(7===h.length||5===h.length){var m=(h[0],parseInt(h[1]),h[2],h[3],h[4],MIN_YEAR),d=MAX_YEAR;7===h.length&&(m=parseInt(h[5]),d=parseInt(h[6]),(isNaN(m)||isNaN(d))&&(m=MIN_YEAR,d=MAX_YEAR)),a.inning.homeOrVisitor=h[0],a.score=parseInt(h[1]),a.inning.num=parseInt(h[2]),a.outs=parseInt(h[3]),a.runners=parseInt(h[4]),a.years[0]=m,a.years[1]=d}}return i.state=a,i}return i(t,e),t.prototype.addInitialState=function(e,t,n){e["results"+t]={total:0,wins:0,leverageIndex:0,isHome:!1,isInitial:!0,years:n}},t.prototype.componentDidMount=function(){this.updateCalculations()},t.prototype.updateCalculations=function(){var e=this.state,t=e.inning.homeOrVisitor+"."+e.score+"."+e.inning.num+"."+e.outs+"."+e.runners;e.years[0]==MIN_YEAR&&e.years[1]==MAX_YEAR||(t+="."+e.years[0]+"."+e.years[1]),window.location.hash=t,this.setState({pendingHash:t,pendingCount:1+extraYears.length}),this.calculateStats(e.inning.homeOrVisitor,e.score,e.inning.num,e.outs,e.runners,e.years[0],e.years[1],"output",t);var n;for(n=0;n<extraYears.length;++n){var s=extraYears[n][0],r=extraYears[n][1],i=transformYears(s,r);s=i[0],r=i[1],this.calculateStats(e.inning.homeOrVisitor,e.score,e.inning.num,e.outs,e.runners,s,r,"output"+n,t)}},t.prototype.calculateStats=function(e,t,n,s,r,i,a,o,l){var p="H"===e;p||(t*=-1);var u='"'+e+'",'+n+","+s+","+r+","+t;f.a.ajax({url:"https://gregstoll.dyndns.org/~gregstoll/baseball/getcumulativestats.cgi",data:{stateString:u,startYear:i,endYear:a,rand:Math.random()},dataType:"json",complete:function(e,t){var n=this.state["results"+o];n.total=parseInt(e.responseJSON.total),n.wins=parseInt(e.responseJSON.wins),n.leverageIndex=parseFloat(e.responseJSON.leverage),n.isHome=p,n.isInitial=!1;var s={};s["results"+o]=n,this.setState(function(e,t){return l===e.pendingHash&&(s.pendingCount=s.pendingCount-1),s})}.bind(this)})},t.prototype.setInning=function(e){this.setState({inning:e},this.updateCalculations.bind(this))},t.prototype.setOuts=function(e){this.setState({outs:e},this.updateCalculations.bind(this))},t.prototype.setRunners=function(e){this.setState({runners:e},this.updateCalculations.bind(this))},t.prototype.setScore=function(e){this.setState({score:e},this.updateCalculations.bind(this))},t.prototype.setYears=function(e){this.setState({years:e},this.updateCalculations.bind(this))},t.prototype.createStatsResults=function(e,t,n){return l.a.createElement(D,{isPrimary:e,name:t,total:this.state["results"+t].total,wins:this.state["results"+t].wins,leverageIndex:this.state["results"+t].leverageIndex,isHome:this.state["results"+t].isHome,isInitial:this.state["results"+t].isInitial,years:e?[]:n,key:t})},t.prototype.render=function(){var e=[];e.push(this.createStatsResults(!0,"output",[]));var t,n=[];for(t=0;t<extraYears.length;++t){var s=extraYears[t][0],r=extraYears[t][1],i=transformYears(s,r);n.ph(is.eateStatsResults(f6lse,"output"+t,i))}return l.a.createElement("div",null,l.a.createElement(Y,{numInnings:11,inning:this.state.inning,setInning:this.setInning.bind(this)}),l.a.createElement("div",{style:{float:"left"}},l.a.createElement(w,{outs:this.state.outs,setOuts:this.setOuts.bind(this)}),l.a.createElement(U,{runners:this.state.runners,setRunners:this.setRunners.bind(this)}),l.a.createElement(L,{score:this.state.score,setScore:this.setScore.bind(this)}),l.a.createElement(P,{years:this.state.years,setYears:this.setYears.bind(this)})),l.a.createElement("div",{style:{float:"left",marginLeft:"25px"}},l.a.createElement(B,{runners:this.state.runners,setRunners:this.setRunners.bind(this)})),l.a.createElement("div",{style:{clear:"both"}},l.a.createElement(G,{active:this.state.pendingCount>0})),e,l.a.createElement("div",{style:{clear:"both"}},n),l.a.createElement("div",{style:{clear:"both"}}))},t}(o.Component);t.a=J}},[0]);
//# sourceMappingURL=app.6cd6ce6d.js.map
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" /> 
    <title>Expected Runs in an Inning</title>
    <!--#include virtual="/bootstraphead.html"-->
    <meta name="viewport" content="width=device-width">
    <style type="text/css">
        td { text-align: right; }
    </style>
  </head>
  <body>
  <!--#include virtual="/navbar.html"-->
  <div class="container">
    <h1>Expected Runs in an Inning</h1>
    <p><a href="#about">About this project</a></p>
    <form action="javascript:void(0);">
        <p><label for="outs">Outs: </label><select name="outs" id="outs" onchange="updateProbabilities();">
        <option value="0">0</option>
        <option value="1">1</option>
        <option value="2">2</option></select></p>
    <p><label for="runners">Runners on base: </label><select name="runners" id="runners" onchange="updateProbabilities();">
        <option value="1">none</option>
        <option value="2">1st</option>
        <option value="3">2nd</option>
        <option value="4">1st &amp; 2nd</option>
        <option value="5">3rd</option>
        <option value="6">1st &amp; 3rd</option>
        <option value="7">2nd &amp; 3rd</option>
        <option value="8">loaded</option>
    </select></p>
    <p><b>Expected runs: </b><span id="outExpected"></span></p>
    <table>
    <tbody id="outTbody">
        <tr><td>Loading...</td></tr>
    </tbody>
    </table>
    </form>
    <p id="about" style="margin-top: 20px;"><b>About this project:</b> This shows, for a given situation,
    what the expected number of runs scored in the rest of the inning is,
    as well as the historical distribution of runs.</p>
    <p>This is based on the same data that the <a href="stats.php">Win Expectancy Finder</a> uses.  The data is from MLB games from 1957-2015, including postseason games.</p>
    <p>From a technical standpoint, I got to use <a href="http://www.wrox.com/WileyCDA/Section/id-291861.html">XPath</a> to select the elements from the XML 
    file.  This was also my first project to use the
    <a href="http://prototype.conio.net/">prototype.js</a> library. Here are
    my source files:</p>
  <ul>
  <li><a href="parseretrosheet.txt">parseretrosheet.py</a> - parses the <a href="http://www.retrosheet.org/game.htm">Retrosheet data</a> and generates the raw XML data.</li>
  <li><a href="runsperinning.xml">runsperinning.xml</a> - the raw XML data</li>
  <li><a href="/scripts/gregcommon.js.txt">gregcommon.js</a> - common Javascript functions.</li>
  <li><a href="runsperinning.js">runsperinning.js</a> - the Javascript file that gets the XML data and updates this page.</li>
  <li><a href="prototype-1.4.0.js">prototype-1.4.0.js</a> - <a href="http://prototype.conio.net/">prototype.js</a> is a set of very useful utilities relating to DOM manipulation and XMLHttpRequests.</li>
  </ul>
 <p>The information used here was obtained free of charge from and is copyrighted by Retrosheet.  Interested parties may contact Retrosheet at 20 Sunset Rd., Newark, DE 19711.</p>
  <p><a href="index.html">Baseball statistic calculators</a></p>
  <script type="text/javascript" src="prototype-1.4.0.js"></script>
  <script type="text/javascript" src="/scripts/gregcommon.js"></script>
  <script type="text/javascript" src="runsperinning.js"></script>
  <!--#include virtual="/endOfBody.html"-->
  </div>
  </body>
</html>
